const trending = [
    {
        name: "Madame Web",
        type: "Movie",
        image: "/assets/Movies/madame-web-poster.jpg",
        year: "2024",
        duration: "1h 54m"
    },
    {
        name: "The Last Of Us",
        type: "TV",
        image: "/assets/TV/tlou.jpg",
        year: "2023",
        duration: "57m"
    },
    {
        name: "Shogun",
        type: "TV",
        image: "/assets/TV/shogun.jpg",
        year: "2024",
        duration: "57m"
    },
    {
        name: "Code 8",
        type: "Movie",
        image: "/assets/Movies/code-8-poster.jpg",
        year: "2019",
        duration: "99m"
    },
    {
        name: "Arcane",
        type: "TV",
        image: "/assets/TV/arcane.jpeg",
        year: "2021",
        duration: "47m"
    },
    {
        name: "The Beekeeper",
        type: "Movie",
        image: "/assets/Movies/beekeeper.jpg",
        year: "2024",
        duration: "105m"
    },
    {
        name: "Dune: Part Two",
        type: "Movie",
        image: "/assets/Movies/dune.webp",
        year: "2024",
        duration: "167m"
    },
    {
        name: "The Marvels",
        type: "Movie",
        image: "/assets/Movies/the-marvels.webp",
        year: "2024",
        duration: "167m"
    },
    {
        name: "Madame Web",
        type: "Movie",
        image: "/assets/Movies/madame-web-poster.jpg",
        year: "2024",
        duration: "1h 54m"
    },
    {
        name: "The Last Of Us",
        type: "TV",
        image: "/assets/TV/tlou.jpg",
        year: "2023",
        duration: "57m"
    },
    {
        name: "Shogun",
        type: "TV",
        image: "/assets/TV/shogun.jpg",
        year: "2024",
        duration: "57m"
    },
    {
        name: "Code 8",
        type: "Movie",
        image: "/assets/Movies/code-8-poster.jpg",
        year: "2019",
        duration: "99m"
    },
    {
        name: "Arcane",
        type: "TV",
        image: "/assets/TV/arcane.jpeg",
        year: "2021",
        duration: "47m"
    },
    {
        name: "The Beekeeper",
        type: "Movie",
        image: "/assets/Movies/beekeeper.jpg",
        year: "2024",
        duration: "105m"
    },
    {
        name: "Dune: Part Two",
        type: "Movie",
        image: "/assets/Movies/dune.webp",
        year: "2024",
        duration: "167m"
    },
    {
        name: "The Marvels",
        type: "Movie",
        image: "/assets/Movies/the-marvels.webp",
        year: "2024",
        duration: "167m"
    }
];
const tvShows = [
    {
        name: "The Last Of Us",
        type: "TV",
        image: "/assets/TV/tlou.jpg",
        year: "2023",
        duration: "57m"
    },
    {
        name: "Shogun",
        type: "TV",
        image: "/assets/TV/shogun.jpg",
        year: "2024",
        duration: "57m"
    },
    {
        name: "Arcane",
        type: "TV",
        image: "/assets/TV/arcane.jpeg",
        year: "2021",
        duration: "47m"
    },
    {
        name: "The Last Of Us",
        type: "TV",
        image: "/assets/TV/tlou.jpg",
        year: "2023",
        duration: "57m"
    },
    {
        name: "Shogun",
        type: "TV",
        image: "/assets/TV/shogun.jpg",
        year: "2024",
        duration: "57m"
    },
    {
        name: "Arcane",
        type: "TV",
        image: "/assets/TV/arcane.jpeg",
        year: "2021",
        duration: "47m"
    },
    {
        name: "The Last Of Us",
        type: "TV",
        image: "/assets/TV/tlou.jpg",
        year: "2023",
        duration: "57m"
    },
    {
        name: "Shogun",
        type: "TV",
        image: "/assets/TV/shogun.jpg",
        year: "2024",
        duration: "57m"
    },
    {
        name: "Arcane",
        type: "TV",
        image: "/assets/TV/arcane.jpeg",
        year: "2021",
        duration: "47m"
    },
    {
        name: "The Last Of Us",
        type: "TV",
        image: "/assets/TV/tlou.jpg",
        year: "2023",
        duration: "57m"
    },
    {
        name: "Shogun",
        type: "TV",
        image: "/assets/TV/shogun.jpg",
        year: "2024",
        duration: "57m"
    },
    {
        name: "Arcane",
        type: "TV",
        image: "/assets/TV/arcane.jpeg",
        year: "2021",
        duration: "47m"
    }
];

const movies = [
    {
        name: "Madame Web",
        type: "Movie",
        image: "/assets/Movies/madame-web-poster.jpg",
        year: "2024",
        duration: "1h 54m"
    },
    {
        name: "Code 8",
        type: "Movie",
        image: "/assets/Movies/code-8-poster.jpg",
        year: "2019",
        duration: "99m"
    },
    {
        name: "The Beekeeper",
        type: "Movie",
        image: "/assets/Movies/beekeeper.jpg",
        year: "2024",
        duration: "105m"
    },
    {
        name: "Dune: Part Two",
        type: "Movie",
        image: "/assets/Movies/dune.webp",
        year: "2024",
        duration: "167m"
    },
    {
        name: "The Marvels",
        type: "Movie",
        image: "/assets/Movies/the-marvels.webp",
        year: "2024",
        duration: "167m"
    },
    {
        name: "Madame Web",
        type: "Movie",
        image: "/assets/Movies/madame-web-poster.jpg",
        year: "2024",
        duration: "1h 54m"
    },
    {
        name: "Code 8",
        type: "Movie",
        image: "/assets/Movies/code-8-poster.jpg",
        year: "2019",
        duration: "99m"
    },
    {
        name: "The Beekeeper",
        type: "Movie",
        image: "/assets/Movies/beekeeper.jpg",
        year: "2024",
        duration: "105m"
    },
    {
        name: "Dune: Part Two",
        type: "Movie",
        image: "/assets/Movies/dune.webp",
        year: "2024",
        duration: "167m"
    },
    {
        name: "The Marvels",
        type: "Movie",
        image: "/assets/Movies/the-marvels.webp",
        year: "2024",
        duration: "167m"
    },
    {
        name: "Code 8",
        type: "Movie",
        image: "/assets/Movies/code-8-poster.jpg",
        year: "2019",
        duration: "99m"
    },
    {
        name: "The Beekeeper",
        type: "Movie",
        image: "/assets/Movies/beekeeper.jpg",
        year: "2024",
        duration: "105m"
    }
]


// global variable //
// section 1 
const trendingList = document.getElementById('trending-list');
const rightButton = document.getElementById('right-button');
const leftButton = document.getElementById('left-button');

// section 2
const moviesList = document.getElementById('movies-list');

// section 3
const tvList = document.getElementById('tv-list');



listrendering(trendingList,trending);
listrendering(moviesList,movies);
listrendering(tvList, tvShows);


scroll();


trendingList.addEventListener('click', () =>{
    console.log(trendingList.scrollLeft);
    console.log(trendingList.scrollRight);
    console.log(trendingList.scrollWidth);
    const maxscroll = trendingList.scrollWidth - trendingList.clientWidth;
    console.log(maxscroll);
    console.log(trendingList.clientWidth);
});


if(trendingList.scrollLeft === 0){
    leftButton.classList.add('hidden')
}


//      functions     //

function listrendering(list, data){
    data.forEach((item) => {
        const listItem = document.createElement('article');
        listItem.classList.add('flex', 'flex-col', 'items-start', 'justify-start','h-full');
        listItem.innerHTML = `
        <img class="h-56 w-[150px] object-cover rounded-md" src="${item.image}" alt="movie-poster">
        <div class="w-[150px] mt-2">
            <h5 class="text-text text-[14px] leading-none">${item.name}</h5>
            <div class="flex align-bottom justify-between w-full">
                <div class="flex items-end justify-center gap-3 leading-none">
                    <p class="text-[12px] text-secondary">${item.year}</p>
                    <p class="text-[12px] text-secondary">${item.duration}</p>
                </div>
                <span class="text-accent text-[10px] font-bold border rounded-sm border-accent py-[2px] px-[3px]">${item.type}</span>
            </div>
        </div>
        `;
        list.appendChild(listItem);
    })
}



function scroll(){
    rightButton.addEventListener('click',()=>{
        
        let actualScroll = trendingList.scrollLeft;
        let distance = trendingList.clientWidth;

        // Calculate the new scroll position
        let newScroll = actualScroll + distance;

        // Scroll to the new position
        trendingList.scrollTo({
            left: newScroll,
            behavior: 'smooth'
        });
        
        
        // Check if scrolled to the end
        if (newScroll >= trendingList.scrollWidth - trendingList.clientWidth) {
            rightButton.classList.add('hidden');
        }
        leftButton.classList.remove('hidden');
    })

    leftButton.addEventListener('click',()=>{
        
        let actualScroll = trendingList.scrollLeft;
        let distance = trendingList.clientWidth;

        // Calculate the new scroll position
        let newScroll = actualScroll - distance;

        // Scroll to the new position
        trendingList.scrollTo({
            left: newScroll,
            behavior: 'smooth'
        });

        rightButton.classList.remove('hidden');

        // Check if scrolled to the end
        if (actualScroll <= distance ) {
            leftButton.classList.add('hidden');
        }
    })
}